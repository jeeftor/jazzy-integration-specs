<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Migration Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Class/Migration" class="dashAnchor"></a>
    <a title="Migration Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">RealmSwift Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/realm/realm-cocoa"><img src="../img/gh.png"/>View on GitHub</a></p>
        <p class="header-right"><a href="dash-feed://https%3A%2F%2Frealm%2Eio%2Fdocs%2Fswift%2F0%2E93%2E2%2Fapi%2Fdocsets%2FRealmSwift%2Exml"><img src="../img/dash.png"/>Install in Dash</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">RealmSwift Reference</a>
        <img id="carat" src="../img/carat.png" />
        Migration Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
          <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes.html#/s:C10RealmSwift13DynamicObject">DynamicObject</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/List.html">List</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Migration.html">Migration</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Object.html">Object</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ObjectSchema.html">ObjectSchema</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Property.html">Property</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Realm.html">Realm</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Results.html">Results</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Schema.html">Schema</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/Notification.html">Notification</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions.html#/s:Sd">Double</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/s:Sf">Float</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/s:Si">Int</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/s:VSs5Int16">Int16</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/s:VSs5Int32">Int32</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/s:VSs5Int64">Int64</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/List.html">List</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/c:objc(cs)NSDate">NSDate</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/s:C10RealmSwift12ObjectSchema">ObjectSchema</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/s:C10RealmSwift8Property">Property</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/s:C10RealmSwift5Realm">Realm</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/Results.html">Results</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions.html#/s:C10RealmSwift6Schema">Schema</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/SortDescriptor.html">SortDescriptor</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Functions.html#/s:ZF10RealmSwiftoi2eeFTCS_6SchemaS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:ZF10RealmSwiftoi2eeFTCS_8PropertyS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:ZF10RealmSwiftoi2eeFTVS_14SortDescriptorS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:ZF10RealmSwiftoi2eeFTCS_5RealmS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:ZF10RealmSwiftoi2eeU__FTQ_Q__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:ZF10RealmSwiftoi2eeFTCS_12ObjectSchemaS0__Sb">==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:F10RealmSwift12migrateRealmFTSS13encryptionKeyGSqCSo6NSData__GSqCSo7NSError_">migrateRealm(_:encryptionKey:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:F10RealmSwift19schemaVersionAtPathFTSS13encryptionKeyGSqCSo6NSData_5errorGVSs33AutoreleasingUnsafeMutablePointerGSqCSo7NSError___GSqVSs6UInt64_">schemaVersionAtPath(_:encryptionKey:error:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:F10RealmSwift28setDefaultRealmSchemaVersionFTVSs6UInt64FT9migrationCS_9Migration16oldSchemaVersionS0__T__T_">setDefaultRealmSchemaVersion(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:F10RealmSwift16setSchemaVersionFTVSs6UInt64SSFT9migrationCS_9Migration16oldSchemaVersionS0__T__T_">setSchemaVersion(_:_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols.html#/s:P10RealmSwift11AddableType">AddableType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols.html#/s:P10RealmSwift10MinMaxType">MinMaxType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/SortDescriptor.html">SortDescriptor</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
          <a href="../Typealiases.html">Typealiases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:10RealmSwift14MigrationBlock">MigrationBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:10RealmSwift15MigrationObject">MigrationObject</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:10RealmSwift29MigrationObjectEnumerateBlock">MigrationObjectEnumerateBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:10RealmSwift17NotificationBlock">NotificationBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:10RealmSwift17NotificationToken">NotificationToken</a>
              </li>
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:10RealmSwift12PropertyType">PropertyType</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Migration</h1>
              <div class="declaration">
                <div class="Swift">
                  <pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">Migration</span></code></pre>

                </div>
              </div>
            <p><code>Migration</code> is the object passed into a user-defined <code>MigrationBlock</code> when updating the version
of a <code>Realm</code> instance.</p>

<p>This object provides access to the previous and current <code>Schema</code>s for this migration.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
                <div class="task-name-container">
                  <a name="/Properties"></a>
                  <a name="//apple_ref/swift/Section/Properties" class="dashAnchor"></a>
                  <a href="#/Properties">
                    <h3 class="section-name">Properties</h3>
                  </a>
                </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vC10RealmSwift9Migration9oldSchemaCS_6Schema"></a>
                    <a name="//apple_ref/swift/Property/oldSchema" class="dashAnchor"></a>
                    <a class="token" href="#/s:vC10RealmSwift9Migration9oldSchemaCS_6Schema">oldSchema</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The migration&rsquo;s old <code>Schema</code>, describing the <code>Realm</code> before applying a migration.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">oldSchema</span><span class="p">:</span> <span class="kt">Schema</span> <span class="p">{</span> <span class="k">return</span> <span class="kt">Schema</span><span class="p">(</span><span class="n">rlmMigration</span><span class="o">.</span><span class="n">oldSchema</span><span class="p">)</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/realm/realm-cocoa/tree/v0.93.2/RealmSwift/Migration.swift#L150">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:vC10RealmSwift9Migration9newSchemaCS_6Schema"></a>
                    <a name="//apple_ref/swift/Property/newSchema" class="dashAnchor"></a>
                    <a class="token" href="#/s:vC10RealmSwift9Migration9newSchemaCS_6Schema">newSchema</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The migration&rsquo;s new <code>Schema</code>, describing the <code>Realm</code> after applying a migration.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">newSchema</span><span class="p">:</span> <span class="kt">Schema</span> <span class="p">{</span> <span class="k">return</span> <span class="kt">Schema</span><span class="p">(</span><span class="n">rlmMigration</span><span class="o">.</span><span class="n">newSchema</span><span class="p">)</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/realm/realm-cocoa/tree/v0.93.2/RealmSwift/Migration.swift#L153">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
                <div class="task-name-container">
                  <a name="/Altering%20Objects%20During%20a%20Migration"></a>
                  <a name="//apple_ref/swift/Section/Altering Objects During a Migration" class="dashAnchor"></a>
                  <a href="#/Altering%20Objects%20During%20a%20Migration">
                    <h3 class="section-name">Altering Objects During a Migration</h3>
                  </a>
                </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC10RealmSwift9Migration9enumerateFS0_FTSSFT9oldObjectGSqCS_13DynamicObject_9newObjectGSqS1___T__T_"></a>
                    <a name="//apple_ref/swift/Method/enumerate(_:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC10RealmSwift9Migration9enumerateFS0_FTSSFT9oldObjectGSqCS_13DynamicObject_9newObjectGSqS1___T__T_">enumerate(_:_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Enumerates objects of a given type in this Realm, providing both the old and new versions of
each object. Object properties can be accessed using subscripting.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">enumerate</span><span class="p">(</span><span class="nv">objectClassName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="n">_</span> <span class="nv">block</span><span class="p">:</span> <span class="kt">MigrationObjectEnumerateBlock</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>className</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name of the <code>Object</code> class to enumerate.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>block</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The block providing both the old and new versions of an object in this Realm.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/realm/realm-cocoa/tree/v0.93.2/RealmSwift/Migration.swift#L166-L170">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC10RealmSwift9Migration6createFS0_FTSS5valuePSs9AnyObject__CS_13DynamicObject"></a>
                    <a name="//apple_ref/swift/Method/create(_:value:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC10RealmSwift9Migration6createFS0_FTSS5valuePSs9AnyObject__CS_13DynamicObject">create(_:value:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Create an <code>Object</code> of type <code>className</code> in the Realm being migrated.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">create</span><span class="p">(</span><span class="nv">className</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">value</span><span class="p">:</span> <span class="kt">AnyObject</span> <span class="o">=</span> <span class="p">[:])</span> <span class="o">-&gt;</span> <span class="kt">MigrationObject</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>className</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name of the <code>Object</code> class to create.</p>

                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>object</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The object used to populate the object. This can be any key/value coding
compliant object, or a JSON object such as those returned from the methods in
<code>NSJSONSerialization</code>, or an <code>Array</code> with one object for each persisted
property. An exception will be thrown if any required properties are not
present and no default is set.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The created object.</p>

                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/realm/realm-cocoa/tree/v0.93.2/RealmSwift/Migration.swift#L184-L186">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC10RealmSwift9Migration6deleteFS0_FCS_13DynamicObjectT_"></a>
                    <a name="//apple_ref/swift/Method/delete(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC10RealmSwift9Migration6deleteFS0_FCS_13DynamicObjectT_">delete(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Delete an object from a Realm during a migration. This can be called within
<code>enumerate(_:block:)</code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">delete</span><span class="p">(</span><span class="nv">object</span><span class="p">:</span> <span class="kt">MigrationObject</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>object</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Object to be deleted from the Realm being migrated.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/realm/realm-cocoa/tree/v0.93.2/RealmSwift/Migration.swift#L194-L196">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:FC10RealmSwift9Migration10deleteDataFS0_FSSSb"></a>
                    <a name="//apple_ref/swift/Method/deleteData(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:FC10RealmSwift9Migration10deleteDataFS0_FSSSb">deleteData(_:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Deletes the data for the class with the given name.
This deletes all objects of the given class, and if the Object subclass no longer exists in your program,
cleans up any remaining metadata for the class in the Realm file.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="Swift">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">deleteData</span><span class="p">(</span><span class="nv">objectClassName</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>name</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name of the Object class to delete.</p>

                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>whether there was any data to delete.</p>

                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/realm/realm-cocoa/tree/v0.93.2/RealmSwift/Migration.swift#L207-L209">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; YYYY <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a>. All rights reserved. (Last updated: YYYY-MM-DD)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ vX.X.X</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
